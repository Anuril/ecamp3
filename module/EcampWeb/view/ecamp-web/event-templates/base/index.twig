{% extends 'ecamp-web/camp/camp.twig' %}

{% block content2 %}

	<h1>{{ eventCategory.short }}: {{ event.title }}</h1>

	<div class="row">
		<div class="col-xs-12">
			{% embed "helper/accordion.twig" %}
				{% block panel_title %}
					Infos
				{% endblock %}
				{% block panel_content %}
					<div class="row">
						<div class="col-sm-8">
							<h4>Instances:</h4>
							<table class="table table-striped table-hover" style="width: 100%">
								{#
								<thead>
									<tr>
										<th>Date</th>
										<th>Time</th>
										<th>Period</th>
										<!--
										<th>Duration</th>
										<th>Progress</th>
										 -->
										<th style="padding: 2px 8px">
										<!--
										 Options
										 -->
										 <button
											type="button"
											class="btn btn-sm btn-success pull-right"
											data-toggle="modal"
											data-target="#asyncform-container"
											href="{{ url(
												'web/camp/default',
												{'camp': camp, 'controller':'day', 'action' : 'addEvent' },
												{ 'query': { 'dayId': day.getId() } }
											) }}"
										><i class="fa fa-plus"></i> Instance</button>

										</th>
									</tr>
								</thead>
								#}
								<tbody>

									{% for eventInstance in event.eventInstances %}
										<tr>
											<td>
												{{ eventInstance.getDateRange() }}
											</td>
											<td>
												{{ eventInstance.getStarttime() | date('H') }}<sup><small>{{ eventInstance.getStarttime() | date('i') }}</small></sup>
												-
												{{ eventInstance.getEndtime() | date('H') }}<sup><small>{{ eventInstance.getEndtime() | date('i') }}</small></sup>

											</td>
											<td>{{ eventInstance.getPeriod().getDescription() }}</td>

											<td style="padding: 2px 8px">
												<div class="btn-group pull-right">
												<!--
													<a class="btn btn-sm btn-default"><i class="fa fa-pencil"></i> Event</a>
												 -->
													<a class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
														Options <span class="caret"></span>
													</a>
													<ul class="dropdown-menu pull-right" role="menu">
														<li><a href="#"><i class="fa fa-clock-o" style="margin-left: 2px; margin-right: 9px"></i> Move</a></li>
														<li><a href="#"><i class="fa fa-copy" style="margin-left: 1px; margin-right: 7px"></i> Copy / Split</a></li>
														<li><a href="#"><i class="fa fa-trash-o"  style="margin-left: 3px; margin-right: 9px"></i> Delete</a></li>
													</ul>
												</div>
											</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
						<div class="col-sm-4">
							<h4>Responsables:</h4>
							{% include 'ecamp-web/event-templates/base/event-resp-select.twig' %}
						</div>
					</div>
				{% endblock %}
			{% endembed %}
		</div>

	</div>

	{% block eventTemplateContent %}{{ eventTemplateContent|raw }}{% endblock eventTemplateContent %}

{% endblock %}
